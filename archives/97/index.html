
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>PyGtk学习笔记(2)–布局管理(Fixed) - 一个人的世界</title>
    <meta name="author" content="DawnDIY">
    
	<meta name="description" content="前面介绍了一下PyGtk，使用它可以做Python的GUI程序。在前面的例子中我们只实现了一个简单的窗口，那么要在窗口里面加内容怎么办？一个add就行了，但是如果想要做出包含丰富的元素，那么就要使用布局管理了。写过GUI的人都知道布局管理是多么重要的事情。 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="一个人的世界" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='http://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <script src="/javascripts/ajaxify.js"></script>
   
    
</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        DawnDIY
    </div>
</h1>
<br>

<ul id="social-links" style="text-align:center">
  
  <!-- GitHub -->
  <li>
  <a href="https://github.com/DawnDIY" class="github" title="Github"></a>
  </li>
  
  
  
  
  <!-- Twitter -->
  <li>
  <a href="http://www.twitter.com/DawnDIYSoft" class="twitter" title="Twitter"></a>
  </li>
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/blog/archives/index.html">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload --> 
    <div id="content" class="inner">
        <article class="post">
	<h2 class="title">PyGtk学习笔记(2)–布局管理(Fixed)</h2>
	<div class="entry-content"><h1></h1>

<p>前面介绍了一下PyGtk，使用它可以做Python的GUI程序。在前面的例子中我们只实现了一个简单的窗口，那么要在窗口里面加内容怎么办？一个add就行了，但是如果想要做出包含丰富的元素，那么就要使用布局管理了。写过GUI的人都知道布局管理是多么重要的事情。虽然现在有很好的Glade工具来实现直接拖拽的方式来进行UI设计，但是毕竟学习的过程还是要从最基本的学起，所以和我一起来学习PyGtk的布局管理吧。</p>

<p>为了组织我们的部件,我们使用专门的不可见部件,其被称为布局容器 (layout containers)。PyGtk常用的有Alignment,Fixed,VBox和Table这四种布局容器(layout containers)。</p>

<p>这里先学习一下简单的Fixed布局，Fixed容器将放置位置固定和尺寸固定的子部件。这个容器不进行自动的布局管理。在大多数的程序中,我们不用这种容器。但是在一些专门的领域,我们会用它。例如游戏,一些工作在图表中的专门程序,那些能被移动可变化尺寸的组件(就想在电子表格程序中的一个chart表一样),小型的学习示例等。</p>

<p>A picture is worth a thousand words:</p>

<p>[![][2]][2]</p>

<p>如上图，我用了Fixed的布局方式，顺带展示一下Button的几种显示，完整代码如下：</p>

<pre><code>#!/usr/bin/env python

# Fixed layout container
# PyGtk Study Notes By DawnDIY
# http://dawndiy.com

import pygtk
pygtk.require('2.0')
import gtk

class FixedLC:
    def __init__(self):
        self.window = gtk.Window(gtk.WINDOW_TOPLEVEL)
        self.window.set_title("Fixed Layout Container")
        self.window.set_size_request(300,250)
        self.window.set_position(gtk.WIN_POS_CENTER)

        btn1 = gtk.Button("Button1")
        btn2 = gtk.Button("Button2")
        btn3 = gtk.Button("Button3")
        btn4 = gtk.Button(stock = gtk.STOCK_CLOSE)

        btn2.set_sensitive(False)
        btn3.set_size_request(80,40)

        fixed = gtk.Fixed()

        fixed.put(btn1, 30, 30)
        fixed.put(btn2, 150, 30)
        fixed.put(btn3, 30, 130)
        fixed.put(btn4, 150, 130)

        btn4.connect("clicked", gtk.main_quit)
        self.window.connect("destroy", gtk.main_quit)

        self.window.add(fixed)
        self.window.show_all()

    def main(self):
        gtk.main()

if __name__ == "__main__":
    fixedLC = FixedLC()
    fixedLC.main()
</code></pre>

<p>分析上面的程序，我们设置了4个Button：btn1是一个普通的Button，btn2是一个不敏感的Button，btn3是一个自定义大小的Button，而btn4是根据GTK中的ITEM选择的一些常用Button。在窗口上，用Fixed容器来布局，调用put方法来向其添加部件，然后记得带上坐标就OK了，所以这种方法很简单，但是这中方法不通用，只能用在一些特殊界面中。</p>

<p>下面详细说一下Fixed：</p>

<p>Fixed的继承关系：</p>

<pre><code>-- gobject.GObject
   -- gtk.Object
     -- gtk.Widget
       -- gtk.Container
         -- gtk.Fixed
</code></pre>

<p>Fixed的概要：</p>

<pre><code>class gtk.Fixed(gtk.Container):
    gtk.Fixed()

    def put(widget, x, y)

    def move(widget, x, y)

    def set_has_window(has_window)

    def get_has_window()
</code></pre>

<p>这里列出的Fixed的函数。</p>

<pre><code>def put(widget, x, y)
</code></pre>

<p>添加一个widget，x、y分别是该widget在fixed中的横、纵坐标。（只要是x、y都是指widget的左上角）</p>

<pre><code>def move(widget, x, y)
</code></pre>

<p>移动一个widget，值得注意的是这里的widget一定要是已经添加的fixed中的widget，如果不是已经添加的，这个函数将不起任何作用。x、y分别是这个子widget需要移动到的坐标</p>

<pre><code>def set_has_window(has_window)
</code></pre>

<p><code>set_has_window</code>()方法指定根据has_window的值来决定是否创建一个单独的window。如果has_window的值为Ture，则fixed会创建它自己的单独的window。在默认情况下，has_window的值是False并且fixed会被建立在一个没有独立的window中。这个方法必须使用在fixed还没有实现的时候，例如，在window创建后立即使用。</p>

<pre><code>def get_has_window()
</code></pre>

<p>如果fixed拥有自己独立的window则返回True，否则返回False。</p>

<p> </p>

<p>这就是Fixed布局容器，只用坐标定位的简单布局，虽然不常用，但也是一个简单的布局，适用于一些小型示例中。这次就先学这么多，和大家分享这写。</p>

<p>待续布局容器。。。</p>

<p> </p>
</div>

<div class="meta">
	
		<span class="comments"><a href="/archives/97#disqus_thread">Comments</a></span>
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2013

    DawnDIY
. Powered by <a href="http://octopress.org">Octopress</a> | 
    Theme <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'DawnDIY';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
